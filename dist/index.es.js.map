{"version":3,"file":"index.es.js","sources":["../src/index.js"],"sourcesContent":["import React, { Fragment } from 'react'\nimport PropTypes from 'prop-types'\n\nconst FormTemplate = (props)=>{\n\n  let { \n    LoadingComponent, \n    MutationComponent,\n    makeMutationProps, \n    QueryComponent,\n    makeQueryProps, \n    FormComponent,\n    makeFormProps,\n  } = props\n\n  let queryProps = makeQueryProps ? makeQueryProps(props) : {}\n  return (\n    <QueryComponent {...queryProps}>{\n      (queryResponse)=>{\n        if(queryResponse && queryResponse.loading) return <LoadingComponent message='loading'/>;\n        let mutationProps = makeMutationProps ? makeMutationProps(props, queryResponse) : {}\n        return (<MutationComponent {...mutationProps}>{(mutate,mutationResponse)=>{\n          let formProps = makeFormProps ? makeFormProps(props, queryResponse) : {}\n          return <FormComponent {...formProps} children={ renderProps => props.children(\n            { formProps, renderProps, queryProps, queryResponse, mutationProps, mutationResponse }\n          )}/> \n        }}</MutationComponent>)\n      }\n    }</QueryComponent>\n  )\n}\n\n\n// anything that can and should be customized by platform lives here, along with any defaults\nFormTemplate.defaultProps = {\n  LoadingComponent : ({ children })=><Fragment>Loading</Fragment>,\n  MutationComponent : (props)=>props.makeMutationProps ? props.Mutation : props.children(null),\n  QueryComponent : (props)=>props.makeQueryProps ? props.Query  : props.children(null,null),\n  FormComponent : (props)=>props.makeFormProps ? props.Formik : props.children(props),\n}\n\nFormTemplate.propTypes = {\n  LoadingComponent : PropTypes.func, \n  MutationComponent : PropTypes.func, \n  makeMutationProps : PropTypes.func, \n  QueryComponent : PropTypes.func, \n  makeQueryProps : PropTypes.func, \n  FormComponent : PropTypes.func, \n  makeFormProps : PropTypes.func, \n}\n\nexport default FormTemplate"],"names":["FormTemplate","props","LoadingComponent","MutationComponent","makeMutationProps","QueryComponent","makeQueryProps","FormComponent","makeFormProps","queryProps","queryResponse","loading","mutationProps","mutate","mutationResponse","formProps","children","renderProps","defaultProps","Mutation","Query","Formik","propTypes","PropTypes","func"],"mappings":";;;;;;;;;;;;;;;;;AAGA,IAAMA,eAAe,SAAfA,YAAe,CAACC,KAAD,EAAS;MAG1BC,gBAH0B,GAUxBD,KAVwB,CAG1BC,gBAH0B;MAI1BC,iBAJ0B,GAUxBF,KAVwB,CAI1BE,iBAJ0B;MAK1BC,iBAL0B,GAUxBH,KAVwB,CAK1BG,iBAL0B;MAM1BC,cAN0B,GAUxBJ,KAVwB,CAM1BI,cAN0B;MAO1BC,cAP0B,GAUxBL,KAVwB,CAO1BK,cAP0B;MAQ1BC,aAR0B,GAUxBN,KAVwB,CAQ1BM,aAR0B;MAS1BC,aAT0B,GAUxBP,KAVwB,CAS1BO,aAT0B;;;MAYxBC,aAAaH,iBAAiBA,eAAeL,KAAf,CAAjB,GAAyC,EAA1D;SAEE;kBAAA;cAAA;cACGS,aAAD,EAAiB;UACZA,iBAAiBA,cAAcC,OAAlC,EAA2C,OAAO,oBAAC,gBAAD,IAAkB,SAAQ,SAA1B,GAAP;UACvCC,gBAAgBR,oBAAoBA,kBAAkBH,KAAlB,EAAyBS,aAAzB,CAApB,GAA8D,EAAlF;aACQ;yBAAA;qBAAA;kBAAwCG,MAAD,EAAQC,gBAAR,EAA2B;cACpEC,YAAYP,gBAAgBA,cAAcP,KAAd,EAAqBS,aAArB,CAAhB,GAAsD,EAAtE;iBACO,oBAAC,aAAD,eAAmBK,SAAnB,IAA8B,UAAW;qBAAed,MAAMe,QAAN,CAC7D,EAAED,oBAAF,EAAaE,wBAAb,EAA0BR,sBAA1B,EAAsCC,4BAAtC,EAAqDE,4BAArD,EAAoEE,kCAApE,EAD6D,CAAf;aAAzC,IAAP;;OAFF;;GALN;CAbF;;;AA+BAd,aAAakB,YAAb,GAA4B;oBACP;QAAGF,QAAH,QAAGA,QAAH;WAAgB;cAAA;;;KAAhB;GADO;qBAEN,2BAACf,KAAD;WAASA,MAAMG,iBAAN,GAA0BH,MAAMkB,QAAhC,GAA2ClB,MAAMe,QAAN,CAAe,IAAf,CAApD;GAFM;kBAGT,wBAACf,KAAD;WAASA,MAAMK,cAAN,GAAuBL,MAAMmB,KAA7B,GAAsCnB,MAAMe,QAAN,CAAe,IAAf,EAAoB,IAApB,CAA/C;GAHS;iBAIV,uBAACf,KAAD;WAASA,MAAMO,aAAN,GAAsBP,MAAMoB,MAA5B,GAAqCpB,MAAMe,QAAN,CAAef,KAAf,CAA9C;;CAJlB;;AAOAD,aAAasB,SAAb,GAAyB;oBACJC,UAAUC,IADN;qBAEHD,UAAUC,IAFP;qBAGHD,UAAUC,IAHP;kBAIND,UAAUC,IAJJ;kBAKND,UAAUC,IALJ;iBAMPD,UAAUC,IANH;iBAOPD,UAAUC;CAP5B;;;;"}